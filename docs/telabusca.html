<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Buscar Salas - LabAgenda</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="estilos.css">
</head>
<body>
  <!-- Menu lateral -->
  <button class="menu-toggle" onclick="toggleMenu()">☰</button>

  <div class="sidebar" id="sidebar">
    <h3>Menu</h3>
    <a href="telaagendamento.html">📅 Reservar Sala</a>
    <a href="telaperfil.html">👤 Perfil</a>
    <a href="meusagendamentos.html">📋 Registro</a>
    <a href="telasuporte.html">💬 Suporte</a>
  </div>

  <!-- Conteúdo da página -->
  <div class="container">
    <h2><span>Buscar Agendamentos</span></h2>

    <!-- Busca por data -->
    <div class="busca-container">
      <label for="data">Escolha uma data:</label>
      <input type="date" id="data">
      <button class="btn-buscar" onclick="buscarAgendamentos()">🔍 Buscar Agendamentos</button>
    </div>

    <!-- Lista de salas agendadas -->
    <div id="listaAgendamentos" style="display: none;">
      <h3>Agendamentos encontrados:</h3>
      
      <div class="sala-item" onclick="window.location.href='teladetalhesdasala.html?sala=Sala 101 - Teoria'">
        <h3>Sala 101 - Teoria</h3>
        <div class="sala-info">
          <span>⏰ 14:00 - 16:00</span>
          <span>👥 40 pessoas</span>
          <span>✅ Agendado</span>
        </div>
      </div>

      <div class="sala-item" onclick="window.location.href='teladetalhesdasala.html?sala=Lab 2 - Informática'">
        <h3>Lab 2 - Informática</h3>
        <div class="sala-info">
          <span>⏰ 08:00 - 10:00</span>
          <span>👥 25 pessoas</span>
          <span>✅ Agendado</span>
        </div>
      </div>
    </div>

    <div id="semResultados" class="sem-resultados" style="display: none;">
      Nenhum agendamento encontrado para esta data.
    </div>
  </div>

  <script>
    // Função do menu
    function toggleMenu() {
      const sidebar = document.getElementById('sidebar');
      const menuToggle = document.querySelector('.menu-toggle');
      
      sidebar.classList.toggle('active');
      menuToggle.classList.toggle('active');
    }

    // Configura a data
    window.addEventListener("DOMContentLoaded", function() {
      const inputData = document.getElementById("data");
      const hoje = new Date();
      
      const ano = hoje.getFullYear();
      const mes = String(hoje.getMonth() + 1).padStart(2, '0');
      const dia = String(hoje.getDate()).padStart(2, '0');
      
      // Define a data mínima como hoje
      inputData.min = `${ano}-${mes}-${dia}`;
      // Define a data máxima como o final do ano atual
      inputData.max = `${ano}-12-31`;
      
      // Define a data padrão como hoje
      inputData.value = `${ano}-${mes}-${dia}`;
    });

    // Função pra buscar agendamentos
    function buscarAgendamentos() {
      const data = document.getElementById("data").value;
      const lista = document.getElementById("listaAgendamentos");
      const semResultados = document.getElementById("semResultados");

      if (!data) {
        console.log("Escolha uma data primeiro!");
        return;
      }

      // Simula busca
      if (data === "2024-06-10") {
        lista.style.display = "block";
        semResultados.style.display = "none";
      } else {
        // Para outras datas, mostra um exemplo
        lista.style.display = "block";
        semResultados.style.display = "none";
      }
    }

  </script>
</body>
</html> 